// --- Variables ---
$primary-color: #a98b4f;
$secondary-color: #d1d1d1;
$dark-text: #333333;
$light-text: #ffffff;
$bg-white: #ffffff;
$input-bg: #f7f6f4;
$input-border: #c0bfbf;
$muted: #9b9b9b;

// --- Keyframes (kept) ---
@keyframes pulse-glow {
  0% { text-shadow: 0 0 5px rgba($primary-color, 0.15); }
  50% { text-shadow: 0 0 12px rgba($primary-color, 0.28); }
  100% { text-shadow: 0 0 5px rgba($primary-color, 0.15); }
}

@font-face {
  font-family: 'digital-7';
  src: url('/assets/fonts/digital-7/digital-7.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/* --- Base --- */
.page-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: $bg-white;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: $dark-text;
  overflow: hidden;
}

/* main area left-aligned (not centered) */
.main-content {
  flex-grow: 1;
  width: 100%;
  padding: 2.5rem 3.5rem;
  display: flex;
  justify-content: flex-start; /* left align horizontally */
  align-items: flex-start;
}

/* section title aligned left */
.section-title {
  color: $primary-color;
  font-weight: 700;
  font-size: 2.2rem;
  margin: 0 0 0.75rem 0;
  text-align: left;
  letter-spacing: 0.8px;
}

/* Buttons */
.btn {
  padding: 0.6rem 1.0rem;
  border: none;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.95rem;
  text-transform: uppercase;
  min-width: 110px;
  border-radius: 4px;
  transition: background-color 0.18s ease, transform 0.12s ease, box-shadow 0.12s ease;

  &.btn-primary {
    background-color: $primary-color;
    color: $light-text;
    &:hover { background-color: darken($primary-color, 6%); transform: translateY(-2px); }
  }
  &.btn-secondary {
    background-color: $secondary-color;
    color: $dark-text;
    &:hover { background-color: darken($secondary-color, 6%); transform: translateY(-2px); }
  }
}

/* layout container */
.task-view-container {
  display: flex;
  align-items: flex-start; /* align top */
  gap: 2rem;
  width: 100%;
  max-width: 1200px; /* content width constraint */
  margin: 0; /* pinned to left inside main-content */
}

/* left column with fixed width */
.task-sidebar {
  width: 280px;
  flex: 0 0 280px;
}

.left-column-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.2rem;
  background-color: $input-bg;
  border: 1px solid $input-border;
  padding: 1.25rem;
  border-radius: 8px;
  box-sizing: border-box;
}

.person-logo {
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* main task confirmation area: wider and left aligned */
.task-details-section {
  flex: 1 1 auto;
  opacity: 0;
  transform: translateY(8px);
  transition: opacity 0.35s ease-out, transform 0.35s ease-out, box-shadow 0.2s ease;

  &.is-visible {
    opacity: 1;
    transform: translateY(0);
    background-color: #ffffff;
    border: 1px solid $input-border;
    padding: 2.25rem;
    border-radius: 10px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.06);
    box-sizing: border-box;

    /* larger, rectangular confirmation card */
    min-height: 560px;
    max-width: 880px; /* ensure a good reading line */
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.75rem;
  }

  /* grid: labels (left) + inputs (right) */
  .confirmation-form {
    display: grid;
    grid-template-columns: 36% 64%;
    gap: 1.4rem 2rem;
    align-items: start;
    width: 100%;
    margin-top: 0.25rem;
  }

  /* labels column styling */
  .labels-box {
    background: $input-bg;
    border: 1px solid $input-border;
    border-radius: 8px;
    padding: 1.25rem;
    min-height: 280px;
    box-sizing: border-box;

    ul { list-style: none; margin: 0; padding: 0; }
    li {
      padding: 0.9rem 0;
      font-weight: 700;
      color: $dark-text;
      font-size: 0.98rem;
      border-bottom: 1px solid rgba($input-border, 0.12);
      &:last-child { border-bottom: none; }
    }
  }

  /* inputs column styling */
  .inputs-box {
    display: flex;
    flex-direction: column;
    gap: 1rem;

    .form-row {
      display: block;
      width: 100%;
    }

    /* unified control sizes: tall, roomy inputs */
    select,
    input[type="number"],
    textarea {
      width: 100%;
      padding: 0.95rem 1rem;
      border-radius: 8px;
      border: 1px solid $input-border;
      background: #fff;
      font-size: 1rem;
      color: $dark-text;
      box-sizing: border-box;
      transition: border-color 0.12s ease, box-shadow 0.12s ease;
    }

    /* specific height values for neat vertical rhythm */
    select { height: 52px; }
    input[type="number"] { height: 52px; }
    textarea { min-height: 180px; padding-top: 0.9rem; resize: vertical; }

    /* grouped smaller inputs side-by-side */
    .small-inputs {
      display: flex;
      gap: 1rem;
      align-items: center;

      .small-field { flex: 1; }

      input { height: 52px; }
    }

    /* submit row â€” align left (do not center) */
    .submit-row {
      display: flex;
      justify-content: flex-start;
      margin-top: 0.25rem;

      .btn { min-width: 120px; }
    }
  }
}

/* Hide/ignore timer column (removed) */
.task-timer-section { display: none; }

/* Focus styles */
select:focus, input:focus, textarea:focus {
  outline: none;
  border-color: $primary-color;
  box-shadow: 0 6px 18px rgba($primary-color, 0.06);
}

/* Responsive: stack the grid into a single column on smaller screens */
@media (max-width: 980px) {
  .main-content { padding: 1.25rem; }
  .task-view-container { flex-direction: column; gap: 1.25rem; max-width: 100%; }
  .task-sidebar { width: 100%; flex: 0 0 auto; }
  .task-details-section .is-visible { min-height: auto; max-width: 100%; padding: 1.4rem; }
  .task-details-section .confirmation-form { grid-template-columns: 1fr; }
  .labels-box { order: 1; min-height: auto; }
  .inputs-box { order: 2; }
  .inputs-box textarea { min-height: 160px; }
}

/* small accessibility tweak */
button[disabled] { opacity: 0.6; cursor: not-allowed; } 